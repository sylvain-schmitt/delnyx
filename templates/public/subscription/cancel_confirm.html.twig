{% extends 'public/layout/base.html.twig' %}

{% block title %}Confirmation d'annulation - Delnyx
{% endblock %}

{% block body %}
	<div class="max-w-xl mx-auto py-12">
		<div class="bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-8 text-center">
			<div class="w-16 h-16 bg-red-500/20 text-red-400 rounded-full flex items-center justify-center mx-auto mb-6">
				{{ ux_icon('lucide:alert-triangle', {class: 'w-8 h-8'}) }}
			</div>

			<h1 class="text-3xl font-bold text-white mb-4">Annuler votre abonnement ?</h1>
			<p class="text-white/70 mb-8">
				Vous êtes sur le point d'annuler votre abonnement :
				<br>
				<strong class="text-white">{{ subscription.label }}</strong>
			</p>

			<div class="bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-8 text-left">
				<p class="text-red-300 text-sm">
					<strong>Attention :</strong>
					L'annulation sera effective à la fin de la période de facturation actuelle ({{ subscription.currentPeriodEnd|date('d/m/Y') }}).
					                Après cette date, l'accès au service sera interrompu.
				</p>
			</div>

			<form method="post" action="{{ path('public_subscription_cancel', {id: subscription.id, expires: expires, signature: signature}) }}">
				<div class="flex flex-col gap-4">
					<button type="submit" class="w-full py-4 px-6 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition-colors shadow-lg shadow-red-900/20">
						Confirmer l'annulation
					</button>
					<a href="javascript:history.back()" class="text-white/60 hover:text-white transition-colors">
						Retourner à la facture
					</a>
				</div>
			</form>
		</div>
	</div>
{% endblock %}
