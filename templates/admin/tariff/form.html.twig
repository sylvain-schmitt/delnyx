{% extends 'admin/layout/base.html.twig' %}

{% block title %}{{ title }} - Administration Delnyx{% endblock %}

{% block page_title %}{{ title }}{% endblock %}

{% block body %}
	<div class="max-w-3xl mx-auto space-y-6">

		{# Header #}
		<div class="flex items-center justify-between scroll-animate">
			<div class="flex items-center gap-4">
				<a href="{{ path('admin_tariff_index') }}" class="btn-secondary flex items-center gap-2">
					{{ ux_icon('lucide:arrow-left', {class: 'w-4 h-4'}) }}
					Retour
				</a>
				<h1 class="text-2xl font-bold text-white">{{ title }}</h1>
			</div>
		</div>

		{# Formulaire #}
		<div class="bg-white/10 backdrop-blur-xl border border-white/20 rounded-xl p-8 scroll-animate">
			{{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}

			{# Informations principales #}
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div>
					{{ form_label(form.nom, null, {'label_attr': {'class': 'text-white font-medium'}}) }}
					{{ form_widget(form.nom) }}
					{{ form_errors(form.nom) }}
					{{ form_help(form.nom) }}
				</div>

				<div>
					{{ form_label(form.categorie, null, {'label_attr': {'class': 'text-white font-medium'}}) }}
					{{ form_widget(form.categorie) }}
					{{ form_errors(form.categorie) }}
					{{ form_help(form.categorie) }}
				</div>
			</div>

			{# Prix et unité #}
			<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
				<div>
					{{ form_label(form.prix, null, {'label_attr': {'class': 'text-white font-medium'}}) }}
					{{ form_widget(form.prix) }}
					{{ form_errors(form.prix) }}
					{{ form_help(form.prix) }}
				</div>

				<div>
					{{ form_label(form.unite, null, {'label_attr': {'class': 'text-white font-medium'}}) }}
					{{ form_widget(form.unite) }}
					{{ form_errors(form.unite) }}
					{{ form_help(form.unite) }}
				</div>

				<div>
					{{ form_label(form.ordre, null, {'label_attr': {'class': 'text-white font-medium'}}) }}
					{{ form_widget(form.ordre) }}
					{{ form_errors(form.ordre) }}
					{{ form_help(form.ordre) }}
				</div>
			</div>

			{# Description #}
			<div>
				{{ form_label(form.description, null, {'label_attr': {'class': 'text-white font-medium'}}) }}
				{{ form_widget(form.description) }}
				{{ form_errors(form.description) }}
				{{ form_help(form.description) }}
			</div>

			{# Caractéristiques #}
			<div>
				{{ form_label(form.caracteristiques, null, {'label_attr': {'class': 'text-white font-medium'}}) }}
				{{ form_widget(form.caracteristiques) }}
				{{ form_errors(form.caracteristiques) }}
				{{ form_help(form.caracteristiques) }}
			</div>

			{# Statut #}
			<div class="flex items-center gap-3 p-4 bg-white/5 rounded-lg">
				{{ form_widget(form.actif) }}
				{{ form_label(form.actif, null, {'label_attr': {'class': 'text-white ml-2'}}) }}
				<div class="text-white/60 text-sm">{{ form_help(form.actif) }}</div>
			</div>

			{# Actions #}
			<div class="flex justify-end gap-4 pt-6 border-t border-white/10">
				<a href="{{ path('admin_tariff_index') }}" class="btn-secondary">
					Annuler
				</a>
				<button type="submit" class="btn-primary flex items-center gap-2">
					{{ ux_icon('lucide:check', {class: 'w-4 h-4'}) }}
					Enregistrer
				</button>
			</div>

			{{ form_end(form) }}
		</div>

		{# Aide contextuelle #}
		<div class="bg-blue-500/10 backdrop-blur-xl border border-blue-500/20 rounded-xl p-6 scroll-animate">
			<div class="flex items-start gap-4">
				{{ ux_icon('lucide:info', {class: 'w-6 h-6 text-blue-400 flex-shrink-0'}) }}
				<div>
					<h3 class="text-white font-semibold mb-2">Utilisation du catalogue</h3>
					<ul class="text-white/70 text-sm space-y-1">
						<li>• Les tarifs actifs apparaissent dans le sélecteur lors de la création de devis</li>
						<li>• Le prix et la description sont automatiquement pré-remplis</li>
						<li>• Vous pouvez modifier les valeurs après sélection sur chaque devis</li>
						<li>• Les caractéristiques servent de référence (non affichées sur le devis)</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
